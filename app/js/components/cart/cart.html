<div class="container-fluid">
    <div class="page-header"><h1>Shopping Cart</h1></div>
    <p  class="alert alert-warning" ng-if="vmCartController.cart.getItemList().length === 0">No items in your cart.</p>
    <div class="row" ng-if="vmCartController.cart.getItemList().length > 0">
        <div class="col-md-9">
            <div class="table-responsive">
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th colspan="2">Product</th>
                            <th class="text-right">Price</th>
                            <th class="text-right">Quantity</th>
                            <th class="text-right">Total</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in vmCartController.cart.getItemList()">
                            <td style="width: 100px; max-width: 100px;"><img ng-src="{{item.product.image}}" class="img-responsive"/></td>
                            <td>{{item.product.name}}</td>
                            <td class="text-right">${{item.product.price}}</td>
                            <td class="text-right" ng-init="quantity = item.quantity">
                                <input type="number" min="1" class="form-control" ng-model="quantity" ng-change="vmCartController.cart.updateItemQuantity(item, quantity)"/>
                            </td>
                            <td class="text-right">{{vmCartController.getItemTotal(item) | currency:'$':2}}</td>
                            <td class="text-right">
                                <a ng-click="vmCartController.cart.removeItem(item)"><i class="fa fa-times text-danger"></i></a>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th colspan="4">Grand Total</th>
                            <td class="text-right">{{vmCartController.cart.getCartTotal() | currency:'$':2}}</td>
                            <td></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <a href="#!/" class="btn btn-default">Continue Shopping</a>
            <button class="btn btn-primary pull-right">Checkout</button>
        </div>
        <div class="col-md-3">
            <h4>Related Products</h4>
            <product-summary product="product" ng-repeat="product in vmCartController.relatedProductList | limitTo:2"></productSummary>
        </div>
    </div>
</div>
